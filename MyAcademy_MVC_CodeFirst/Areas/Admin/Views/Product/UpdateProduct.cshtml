@model Product

@{
    ViewBag.Title = "Ürün Düzenle";
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
}

<div class="container-fluid p-4">

    <div class="d-flex align-items-center gap-3 mb-4">
        <a href="/Admin/Product/Index" class="btn btn-light rounded-pill p-2">
            <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
            </svg>
        </a>
        <h1 class="h4 mb-0 fw-bold">@Model.Name Düzenle</h1>
    </div>

    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="card shadow-sm border-0">
                <div class="card-body p-4">
                    <form method="POST" action="/Admin/Product/UpdateProduct" enctype="multipart/form-data">

                        <input type="hidden" name="Id" value="@Model.Id" />

                        <div class="alert alert-warning d-flex gap-3 mb-4" role="alert">
                            <svg class="text-warning flex-shrink-0" width="20" height="20" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />
                            </svg>
                            <div>
                                <h6 class="alert-heading mb-1">Uyarı:</h6>
                                <p class="mb-0 small">Ürün bilgilerini düzenlerken dikkatli olun. Yapılan değişiklikler hemen kaydedilecektir.</p>
                            </div>
                        </div>

                        @if (!string.IsNullOrEmpty(Model.ImageUrl))
                        {
                            <div class="mb-4 text-center">
                                <p class="text-muted small mb-2">Mevcut Resim:</p>
                                <img src="@Model.ImageUrl"
                                     alt="@Model.Name"
                                     class="rounded-lg"
                                     style="max-width: 150px; max-height: 150px; object-fit: cover;" />
                            </div>
                        }

                        <div class="mb-4">
                            <label class="form-label fw-semibold d-flex align-items-center gap-2">
                                <svg class="text-primary" width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.972 1.972 0 013 12V7a4 4 0 014-4z" />
                                </svg>
                                Ürün Adı
                            </label>
                            <input type="text"
                                   name="Name"
                                   value="@Model.Name"
                                   class="form-control form-control-lg"
                                   required />
                        </div>

                        <div class="mb-4">
                            <label class="form-label fw-semibold d-flex align-items-center gap-2">
                                <svg class="text-primary" width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.972 1.972 0 013 12V7a4 4 0 014-4z" />
                                </svg>
                                Kategori
                            </label>

                            @Html.DropDownListFor(x => x.CategoryId, (List<SelectListItem>)ViewBag.categories, "Kategori Seçiniz", new { @class = "form-control " })

                        </div>

                        <div class="mb-4">
                            <label class="form-label fw-semibold d-flex align-items-center gap-2">
                                <svg class="text-primary" width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                                Açıklama
                            </label>
                            <textarea name="Description"
                                      class="form-control form-control-lg"
                                      rows="4"
                                      required>@Model.Description</textarea>
                        </div>

                        <div class="mb-4">
                            <label class="form-label fw-semibold d-flex align-items-center gap-2">
                                <svg class="text-primary" width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                                Fiyat (₺)
                            </label>
                            <input type="text"
                                   name="Price"
                                   value="@Model.Price"
                                   step="0.01"
                                   min="0"
                                   class="form-control form-control-lg"
                                   required />
                        </div>

                        <div class="mb-4">
                            <label class="form-label fw-semibold d-flex align-items-center gap-2">
                                <svg class="text-primary" width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                                </svg>
                                Resim URL
                            </label>
                            <input type="text"
                                   name="ImageUrl"
                                   value="@Model.ImageUrl"
                                   class="form-control form-control-lg"
                                   required />
                        </div>

                        <div class="d-grid gap-2">
                            <button type="submit"
                                    class="btn btn-primary btn-lg d-flex align-items-center justify-content-center gap-2">
                                <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                                </svg>
                                Güncelle
                            </button>
                            <a href="/Admin/Product/Index"
                               class="btn btn-outline-secondary d-flex align-items-center justify-content-center gap-2">
                                <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                                </svg>
                                İptal
                            </a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .material-symbols-outlined {
        font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 48;
    }

    .form-control-lg:focus,
    .form-select-lg:focus {
        border-color: #135bec;
        box-shadow: 0 0 0 0.2rem rgba(19, 91, 236, 0.25);
    }

    .btn:hover {
        transform: translateY(-2px);
        transition: all 0.2s ease;
    }

    .card {
        transition: box-shadow 0.3s ease;
    }

        .card:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
        }
</style>